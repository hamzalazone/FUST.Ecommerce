@page "/users/details/{UserId}"  

@using Fust.Ecommerce.Data  
@using Microsoft.AspNetCore.Identity  
@using Microsoft.EntityFrameworkCore  
@inject UserManager<ApplicationUser> UserManager  

<h3 class="text-center my-4">User Details</h3>  

@if (User is null)  
{  
   <div class="d-flex justify-content-center my-5">  
       <div class="spinner-border text-primary" role="status">  
           <span class="sr-only">Loading...</span>  
       </div>  
   </div>  
}  
else  
{  
   <div class="card shadow-sm">  
       <div class="card-header bg-primary text-white">  
           <h4 class="mb-0">User Information</h4>  
       </div>  
       <div class="card-body">  
           <dl class="row">  
               <dt class="col-sm-3">ID</dt>  
               <dd class="col-sm-9">@UserId</dd>  

               <dt class="col-sm-3">Email</dt>  
               <dd class="col-sm-9">@User.Email</dd>  

               <dt class="col-sm-3">Password Hash</dt>  
               <dd class="col-sm-9">@User.PasswordHash</dd>  
           </dl>  
       </div>  
   </div>  
}  

@code {  
   public ApplicationUser? User { get; set; }  

   [Parameter]  
   public string UserId { get; set; }  

   protected override async Task OnInitializedAsync()  
   {  
       User = await UserManager.FindByIdAsync(UserId);  
   }  
}